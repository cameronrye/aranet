---
title: Changelog
description: Version history and release notes for the Aranet Rust ecosystem.
---

import { Badge, Aside } from '@astrojs/starlight/components';

All notable changes to this project are documented here.

This project follows [Semantic Versioning](https://semver.org/).

## [Unreleased]

---

## [0.1.7] - 2026-01-18 <Badge text="Current" variant="success" />

### Added

- **aranet-store crate** - New SQLite-based local data persistence layer
  - Store current readings and device metadata
  - Cache history records from devices for offline access
  - Incremental sync support (only download new records)
  - Query by device, time range, with pagination
  - Automatic deduplication of history records
  - Platform-specific database locations:
    - Linux: `~/.local/share/aranet/data.db`
    - macOS: `~/Library/Application Support/aranet/data.db`
    - Windows: `C:\Users\<user>\AppData\Local\aranet\data.db`

- **CLI sync command** - Download device history to local database
  - `aranet sync --device <ADDRESS>` for incremental sync
  - `aranet sync --device <ADDRESS> --full` for complete re-download
  - Progress bar during history download

- **CLI cache command** - Query cached data without device connection
  - `aranet cache devices` - List all cached devices
  - `aranet cache stats` - Show cache statistics (readings, history counts)
  - `aranet cache history` - Query cached history with filters
  - `aranet cache info` - Show database path and size

### Changed

- All crate versions bumped to 0.1.7

---

## [0.1.6] - 2026-01-18

### Added

- **Code coverage with cargo-llvm-cov** - CI now reports test coverage via Codecov
- **Property-based testing with proptest** - Fuzz testing for all byte parsers
  - aranet-types: CurrentReading parser fuzzing
  - aranet-core: All device parsers (Aranet4, Aranet2, Radon, Radiation)
  - aranet-core: Advertisement parsing fuzzing
- **GUI tests** - Component tests for AppState (6 new tests)
- **TUI tests** - Component tests for App key handling (6 new tests)
- **Expanded MockDevice tests** - Comprehensive coverage for history, settings, calibration

### Fixed

- **Aranet Radiation advertisement parser panic** - Fixed crash on malformed data (found by proptest)

### Changed

- Test count increased from 268 to 310+ tests
- All test modules now have comprehensive inline documentation

---

## [0.1.5] - 2026-01-18

### Added

- **Multi-device passive watch mode** - `aranet watch --passive` monitors ALL devices broadcasting advertisements
- Device name identification in watch output: `[AranetRn+ 306B8]`
- CSV, JSON, and text output formats with device identification

---

## [0.1.4] - 2026-01-17

### Fixed

- Fix clippy warnings for Rust 2024 edition compliance
- Resolve collapsible if/else-if blocks in CLI styling code
- Remove unnecessary `.clone()` on Copy types in tests
- Fix manual range contains and clamp patterns

---

## [0.1.3] - 2026-01-17

### Added

- **Rich CLI styling** (now the default)
  - Spinners for long-running operations (scan, connect, history download)
  - Color-coded sensor values based on thresholds (CO2, radon, battery, humidity, temperature)
  - Table formatting with `tabled` for history, info, alias, and scan output
  - Trend indicators in watch mode (up/down/stable arrows)
  - `--style` flag: `rich` (default), `minimal`, or `plain` for scripting
  - `--brief` flag for status command (compact one-line output)
  - Device name headers in read output
  - Air quality summary labels (Excellent, Good, Fair, Poor)
- **Pressure unit conversion** (`--inhg` / `--hpa` flags)
  - Display pressure in inches of mercury (inHg) with `--inhg`
  - Explicitly request hPa with `--hpa` (default)
  - Configurable via config file (`inhg = true`)
- **`doctor` command** for BLE diagnostics
  - Checks Bluetooth adapter availability and permissions
  - Scans for devices to verify BLE functionality
  - Platform-specific troubleshooting tips (macOS, Linux, Windows)
  - Numbered progress steps with colored status indicators
- **`alias` command** for device management
  - `alias list` - Show all saved device aliases (now with table formatting)
  - `alias set <name> <address>` - Create a friendly name for a device
  - `alias remove <name>` - Delete an alias
  - Use aliases anywhere a device address is expected
- **Passive read mode** (`--passive` flag on `read`)
  - Read sensor data from BLE advertisements without connecting
  - Requires Smart Home integration enabled on the device
- **Multi-device read support**
  - Specify multiple devices: `aranet read -d device1 -d device2`
  - Parallel reading from all devices
  - Combined output in text, JSON, and CSV formats
- **Interactive device picker**
  - When no device is specified, scan and present a selection menu
- **History date filters** (`--since` / `--until`)
  - Filter history by date range (RFC3339 or YYYY-MM-DD format)
- **Progress bars for history download**
  - Visual progress indicator with percentage and current parameter
- Full AranetRn+ (Radon) sensor support with 4-byte radon history values
- History V2 protocol parsing with 10-byte header format
- `aranet-types` crate for platform-agnostic shared types
- WebAssembly module foundation (`aranet-wasm`)

### Fixed

- UUID mappings for history characteristics
- V2 history parsing header format
- macOS device identifier now uses CoreBluetooth UUID instead of placeholder address

### Changed

- Default style mode changed from `minimal` to `rich`
- Replaced unmaintained `atty` crate with `std::io::IsTerminal`
- Refactored `cmd_history` to use `HistoryArgs` struct (clippy compliance)
- `HistoryRecord` now includes optional `radon: Option<u32>` field
- Improved error messages for BLE connection failures

---

## [0.1.2] - 2026-01-16

### Core Library (aranet-core)

- **Device Discovery** — Scan for nearby Aranet devices via BLE
- **Current Readings** — CO₂, temperature, pressure, humidity, radon, radiation
- **Historical Data** — Download measurement history with timestamps (V1 + V2 protocols)
- **Device Settings** — Read/write measurement interval, Bluetooth range, Smart Home
- **Auto-reconnection** — Configurable backoff and retry logic
- **Real-time Streaming** — Subscribe to sensor value changes via notifications
- **Multi-device Manager** — Manage multiple sensors simultaneously
- **Event System** — Connect/disconnect/reading event dispatcher
- **Data Validation** — Bounds checking with `ReadingValidator`
- **CO₂ Thresholds** — Helpers for green/amber/red status
- **Mock Device** — For testing without hardware

### Supported Devices

| Device | Status |
|--------|--------|
| Aranet4 | <Badge text="Full Support" variant="success" /> |
| Aranet2 | <Badge text="Full Support" variant="success" /> |
| AranetRn+ (Radon) | <Badge text="Full Support" variant="success" /> |
| Aranet Radiation | <Badge text="Full Support" variant="success" /> |

### CLI Tool (aranet-cli)

All core commands fully implemented:

- `scan` — Discover nearby Aranet devices
- `read` — Read current sensor measurements
- `status` — Quick one-line reading with colored CO₂ status
- `info` — Display device information
- `history` — Download historical data (text, JSON, CSV)
- `set` — Modify device settings (interval, range, smart_home)
- `watch` — Continuous monitoring with auto-reconnect
- `config` — Manage configuration file (`~/.config/aranet/config.toml`)
- `completions` — Generate shell completions (bash, zsh, fish, PowerShell)

Features:
- JSON and CSV output formats for all commands
- Colored CO₂ status indicators (green/amber/red)
- Config file support with device, format, no_color, fahrenheit options
- `ARANET_DEVICE` environment variable support
- `--no-color` flag and `NO_COLOR` env var support

### Testing

- 310+ workspace tests (295+ run, 15 ignored for hardware-dependent tests)
- Property-based testing with proptest for all byte parsers
- Code coverage with cargo-llvm-cov (Codecov integration)
- Hardware tested: Aranet4 17C3C (FW v1.4.19), AranetRn+ 306B8 (FW v1.12.0)
- CI running on Ubuntu, macOS, Windows

---

## Dependencies

| Dependency | Version | Purpose |
|------------|---------|---------|
| btleplug | 0.11 | Cross-platform BLE |
| tokio | 1.x | Async runtime |
| thiserror | 2.x | Error handling |
| clap | 4.x | CLI argument parsing |
| time | 0.3 | Date/time handling |
| serde | 1.x | Serialization |

---

Made with love by [Cameron Rye](https://rye.dev/)

